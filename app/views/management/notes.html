<div class="management-table" ng-controller="NoteController">

  <weaver-table weaver-table="weaverTable">

    <weaver-table-controls>
      <button class="btn btn-default view-action-button pull-right" ng-click="openModal('#addNoteModal')">Add Note</button>
    </weaver-table-controls>

    <weaver-table-element>
      <table ng-table="weaverTable.tableParams" template-header="customTableHeader" template-pagination="views/customPaginationControls.html" show-filter="false" class="table table-bordered table-striped note-table">
        <tbody>
          <tr ng-repeat="note in $data">
            <td><a href="{{'service/' + note.service.id + '/detail/'}}">{{note.service.name}}</a> <span ng-if="note.schedules.length > 0">(scheduled)</span></td>
            <td><a href="{{'note/' + note.id + '/detail/'}}">{{note.title}}</a></td>
            <td>{{note.body}}</td>
            <td>{{note.noteType}}</td>
            <td>{{note.lastModified | date : 'medium'}}</td>
            <td>{{note.pinned}}</td>
            <td>{{note.active}}</td>
            <td class="actions-column text-center">
              <span class="glyphicon glyphicon-pencil" title="edit" ng-click="editNote(note)"></span>
              <span class="glyphicon glyphicon-time" title="schedule" ng-click="editSchedule(note)"></span>
              <span class="glyphicon glyphicon-trash" title="delete" ng-click="confirmDelete(note)"></span>
            </td>
          </tr>
        </tbody>
      </table>
    </weaver-table-element>

    <weaver-table-modals>
        <modal modal-id="addNoteModal" modal-view="views/modals/addNoteModal.html" modal-header-class="modal-header-primary" wvr-modal-backdrop="static"></modal>
        <modal modal-id="deleteNoteModal" modal-view="views/modals/deleteNoteModal.html" modal-header-class="modal-header-danger" wvr-modal-backdrop="static"></modal>
        <modal modal-id="editNoteModal" modal-view="views/modals/editNoteModal.html" modal-header-class="modal-header-primary" wvr-modal-backdrop="static"></modal>
        <modal modal-id="editScheduleModal" modal-view="views/modals/editScheduleModal.html" modal-header-class="modal-header-primary" wvr-modal-backdrop="static"></modal>
    </weaver-table-modals>

  </weaver-table>

</div>
